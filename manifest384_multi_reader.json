{
    "manifest": "idrepo/scriptr/server/trunk/manifests/manifest384_multiReader",
    "description": "Process 384-well data, which can be generated from MolecularDevice, Envision and PHERAstar. Please contact Qianting Zhai, if other formats are needed. Inputfile needs 1) a single csv file generated by the reader, or a zip file compressed with multiple csv files. 2) a barcode table in csv format: the first column is source plate name, and the second column should be corresponding destination plate. ",
    "title": "ELISA384_multi_reader",
    "program": "python",
    "contact_email": "qianting.zhai@novartis.com",
    "script": "/home/zhaiqi1/ToolBox/IDAP384screen/IDAP_5_star/IDAP384screen.py",
    "environment": "dev",
    "modules": ["python/2.7.9-goolf-1.5.14-NX"],
    "exportVariables": {
        "PYTHONPATH": "$IDINFO_TRUNK_PATH:/db/idinfo/prog/local_python_2.7.9/lib/python2.7/site-packages/:/usr/prog/python/2.7.9-goolf-1.5.14-NX/lib/python2.7/site-packages/:/home/zhaiqi1/ToolBox/Cherry_Picking/",
        "MODULEPATH": "$MODULEPATH"
    },
    "properties": [
        {
            "name": "Inputdata(data.csv or data.csv.zip)",
            "option": "-i",
            "default": "/Users/zhaiqi1/Documents/Novartis/my_code/ToolBox/IDAP384screen/IDAP_5_multi/rawdata",
            "help": "The input should be compressed in a zip file or a single csv. The directory contains multiple csv files. Each 384-well plate should have one csv file.",
            "type": "file",
            "required": true
        },
        {
            "name": "Barcodetable.csv in format (Sourcebarcode : Destinationbarcode table)",
            "option": "-c",
            "default": "barcodetable.csv",
            "help": "Sourcebarcode : Destination. This file can be csv file or 'Windows Formatted Text (.txt)'.",
            "type": "file",
            "required": true
        },
        {
            "name": "384-well layout",
	        "option": "-o",
            "help": "layoutA: 1antigen*4Abplate, layoutB: 4antigen*1Abplate, layoutC: 2antigen*2Abplate",
            "type": "string",
            "required": true,
            "enum": [
                {
                    "1antigen": "1antigen*4Abplate"
                },
                {
                    "4antigen": "4antigenX1Ab or 2antigenX2Ab"
                }
            ]
        },
        {
            "name": "For 1antigen X 4Abplate, what's the threshold for the positive well",
            "option": "-s",
            "help": "the cutof for the elisa",
            "type": "float",
                  "default": "0.6",
            "required": true,
                  "dynamic_show_master": "384-well layout",
                  "dynamic_show_enum": [
              "1antigen"
            ]
        },
        {
            "name": "ratio_threshold",
            "option": "-r",
            "help": "the ratio for the elisa",
            "type": "float",
                  "default": "3.0",
            "required": true,
                  "dynamic_show_master": "384-well layout",
                  "dynamic_show_enum": [
              "4antigen"
            ]
        },
    	{
            "name" : "Out file directory",
            "type" : "string",
            "hidden": true,
            "required" : true,
            "default":"$RUN_OUTPUT_DIR/",
            "option": "-d",
            "comment": "$RUN_OUTPUT_DIR must be specified."
        },
        {
            "name": "sample Position",
            "option": "-a",
            "help": "Optional. because a file containing all data will still be generated.",
            "type": "string",
            "dynamic_show_master": "384-well layout",
            "dynamic_show_enum": [
              "4antigen"
            ],
            "enum": [
                {
                    "1": "A1 or position 1"
                },
                {
                    "2": "A2 or position 2"
                },
                {
                    "3": "B1 or position 3"
                },
                {
                    "4": "B2 or position 4"
                }
            ]
        },
        {
            "name": "background well position",
            "option": "-b",
            "help": "Optional. because a file containing all data will still be generated.",
            "type": "string",
            "dynamic_show_master": "384-well layout",
            "dynamic_show_enum": [
              "4antigen"
            ],
            "enum": [
                {
                    "1": "A1 or position 1"
                },
                {
                    "2": "A2 or position 2"
                },
                {
                    "3": "B1 or position 3"
                },
                {
                    "4": "B2 or position 4"
                }
            ]
        }
    ]
}
